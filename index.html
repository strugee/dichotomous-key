<!DOCTYPE html>
<!--[if lt IE 7]>	  <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>		 <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>		 <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Dichotomous key</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width">
		
		<!-- fonts -->
		<link rel="stylesheet" href="css/font-awesome.css">
		
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<style>
			body {
				padding-top: 60px;
				padding-bottom: 40px;
			}
		</style>
		<link rel="stylesheet" href="css/bootstrap-responsive.min.css">
		<link rel="stylesheet" href="css/main.css">

		<script src="js/vendor/modernizr-2.6.1-respond-1.1.0.min.js"></script>
		
		
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.8.2.min.js"><\/script>')</script>

		<script src="js/vendor/bootstrap.min.js"></script>

		<script src="js/plugins.js"></script>
		<!--<script src="js/main.js"></script>-->
		<script>
			// initialize language objects
			var cplusplus = {weaklytyped: false, compiled: true, independentcmds: false, nativeexecution: true, cdialect: true};
			var java = {weaklytyped: false, compiled: true, independentcmds: false, nativeexecution: false, cdialect: false};
			var javascript = {weaklytyped: true, compiled: false, independentcmds: false, nativeexecution: false, cdialect: false};
			var python = {weaklytyped: false, compiled: false, independentcmds: false, nativeexecution: false, cdialect: false datadifffunctions: true};
			var rust = {weaklytyped: false, compiled: true, independentcmds: false, nativeexecution: true, cdialect: false};
			var bash = {weaklytyped: true, compiled: false, independentcmds: true, nativeexecution: false, cdialect:false};
			var applescript = {weaklytyped: true, compiled: true, independentcmds: false, nativeexecution: false, cdialect: false};
			var ruby = {weaklytyped: false, compiled: false, independentcmds: true, nativeexecution: false, cdialect: false, datadifffunctions: false};

			console.log("learned languages");
			
			var currentQuestion = "weaklytyped";
			var answers = {weaklytyped: null, compiled: null, independentcmds: null, nativeexecution: null, cdialect: null};

			var determinedLanguage = "unknown";
			var languageImage = "http://icons.iconarchive.com/icons/kyo-tux/phuzion/256/Sign-Error-icon.png";

			function check() {
				console.log("check running");
				
				var answersText = document.getElementById("answers");

				// template
			/*if (answers.weaklytyped == REPLACEMECHECK.weaklytyped &&
				answers.compiled == REPLACEMECHECK.compiled &&
				answers.independentcmds == REPLACEMECHECK.independentcmds &&
				answers.nativeexecution == REPLACEMECHECK.nativeexecution &&
				answers.cdialect == REPLACEMECHECK.cdialect)
			{
				determinedLanguage = "REPLACEMECHECK";
			}*/

				if (answers.weaklytyped == cplusplus.weaklytyped &&
				    answers.compiled == cplusplus.compiled &&
				    answers.independentcmds == cplusplus.independentcmds &&
				    answers.nativeexecution == cplusplus.nativeexecution &&
				    answers.cdialect == cplusplus.cdialect)
				{
					determinedLanguage = "C++";
					languageImage = "http://www.pgpnet.dk/images/c++-logo.png";
				}

				if (answers.weaklytyped == java.weaklytyped && answers.compiled == java.compiled && answers.independentcmds == java.independentcmds && answers.nativeexecution == java.nativeexecution && answers.cdialect == java.cdialect) {
					determinedLanguage = "Java";
					languageImage = "http://gigaom2.files.wordpress.com/2011/08/java-logo.jpg";
				}

				if (answers.weaklytyped == javascript.weaklytyped && answers.compiled == javascript.compiled && answers.independentcmds == javascript.independentcmds && answers.nativeexecution == javascript.nativeexecution && answers.cdialect == javascript.cdialect) {
					determinedLanguage = "JavaScript";
					langaugeImage = "http://blueraiden.exofire.net/blog/wp-content/uploads/2011/09/javascript_logo.gif"
				}

				if (answers.weaklytyped == python.weaklytyped && answers.compiled == python.compiled && answers.independentcmds == python.independentcmds && answers.nativeexecution == python.nativeexecution && answers.cdialect == python.cdialect && answers.datadifffunction == python.datadifffunction) {
					determinedLanguage = "Python";
					languageImage = "http://www.python.org/community/logos/python-logo-master-v3-TM.png";
				}

				if (answers.weaklytyped == rust.weaklytyped && answers.compiled == rust.compiled && answers.independentcmds == rust.independentcmds && answers.nativeexecution == rust.nativeexecution && answers.cdialect == rust.cdialect) {
					determinedLanguage = "Rust";
					languageImage = "http://www.rust-lang.org/logos/rust-logo-128x128-blk.png";
				}

				if (answers.weaklytyped == bash.weaklytyped && answers.compiled == bash.compiled && answers.independentcmds == bash.independentcmds && answers.nativeexecution == bash.nativeexecution && answers.cdialect == bash.cdialect) {
					determinedLanguage = "bash";
					languageImage = "http://blog.tuxforge.com/wp-content/uploads/2011/09/bash-logo-small.jpg";
				}

				if (answers.weaklytyped == applescript.weaklytyped && answers.compiled == applescript.compiled && answers.independentcmds == applescript.independentcmds && answers.nativeexecution == applescript.nativeexecution && answers.cdialect == applescript.cdialect) {
					determinedLanguage = "AppleScript";
					languageImage = "http://i1-news.softpedia-static.com/images/news2/How-To-Create-New-Text-File-in-Finder-2.png";
				}
				
				if (answers.weaklytyped == ruby.weaklytyped &&
				    answers.compiled == ruby.compiled &&
				    answers.independentcmds == ruby.independentcmds &&
				    answers.nativeexecution == ruby.nativeexecution &&
				    answers.cdialect == ruby.cdialect
				    answers.datadifffunction == ruby.datadifffunction)
				{
					determinedLanguage = "ruby";
					languageImage = "http://www.ruby-lang.org/images/logo.gif";
				}
				
				if (determinedLanguage != "unknown") {
					document.getElementById("questions").hidden = "true";
					answersText.innerHTML = "<p>Your language is " + determinedLanguage + ".</p> <br /> <img src=\"" + languageImage + "\" />";
					answersText.removeAttribute("hidden");
				}

			}

			function ask(answeredYes) {
			
				console.log("ask run");
				
				if (currentQuestion == "weaklytyped") {
				
				console.log("weakly typed if run");
					if (answeredYes) {
						console.log("variable set to true");
						answers.weaklytyped = true;
					} else {
						console.log("variable set to false");
						answers.weaklytyped = false;
					}
					document.getElementById("question").innerHTML = "Is the language compiled?";
					console.log("changed question");
					currentQuestion = "compiled";
					
				} else if (currentQuestion == "compiled") {
				
					if (answeredYes) {
						answers.compiled = true;
					} else {
						answers.compiled = false;
					}
					document.getElementById("question").innerHTML = "Can you run language commands independently, for example, on an interactive console?";
					currentQuestion = "independentcmds";
					
				} else if (currentQuestion == "independentcmds") {
				
					if (answeredYes) {
						answers.independentcmds = true;
					} else {
						answers.independentcmds = false;
					}
					document.getElementById("question").innerHTML = "Is the language executed natively - directly on the processor - instead of, for example, a virtual machine?";
					currentQuestion = "nativeexecution";
					
				} else if (currentQuestion == "nativeexecution") {
				
					if (answeredYes) {
						answers.nativeexecution = true;
					} else {
						answers.nativeexecution = false;
					}
					document.getElementById("question").innerHTML = "Is the language a C dialect?";
					currentQuestion = "cdialect";
					
				} else if (currentQuestion == "cdialect") {
				
					if (answeredYes) {
						answers.cdialect = true;
					} else {
						answers.cdialect = false;
					}
					document.getElementById("question").innerHTML = "Does the language differentiate between functions and data?";
					currentQuestion = "datadifffunction";
					
				} else if (currentQuestion == "datadifffunction") {
					
					if (answeredYes) {
						answers.datadifffunction == true;
					} else {
						answers.datadifffunction == false;
					}
					
				}
				check();
			}

			function transition() {
				console.log("starting transition");
				var startscreen = document.getElementById("startscreen");
				var questions = document.getElementById("questions");
				var yesbutton = document.getElementById("yesbutton");
				var nobutton = document.getElementById("nobutton");
				console.log("got element objects");

				startscreen.hidden = "true";
				console.log("startscreen hidden");
				questions.removeAttribute("hidden");
				//yesbutton.hidden = "false";
				//nobutton.hidden = "false";
				console.log("questions shown");
				console.log("ended transition");
			}
		</script>
	</head>
	<body>
		<!--[if lt IE 7]>
			<p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
		<![endif]-->
		
		<div id="container">
			<h1>HALP!! I DON'T KNOW WHAT PROGRAMMING LANGUAGE I'M USING!!1!</h1>
			<div id="startscreen">
					<h3>Fear not! <button class="btn btn-primary btn-large" onclick="transition();">Start!</button></h3>
			</div> <!-- /startscreen -->
			<div id="questions" hidden>
				<p id="question">
					Is the language weakly typed?
				</p> <!-- /question -->
				<button id="yesbutton" class="btn btn-large" onclick="ask(true);">Yes</button>
				<button id="nobutton" class="btn btn-large" onclick="ask(false);">No</button>
			</div> <!-- /questions -->
			<div id="answers" hidden>
				Sorry, there was an internal error. Our bad.
			</div> <!-- answers -->
		</div> <!-- /container -->
	</body>
</html>
